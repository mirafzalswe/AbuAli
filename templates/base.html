{% load static %}
{% load i18n %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UzbCode - –ë–ª–æ–≥ –æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</title>
    {% block extra_css %}{% endblock %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  
    <link rel="stylesheet" href="{% static 'css/auth-buttons.css' %}">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="preconnect" href="https://ui-avatars.com">

</head>
<body>

    <header class="header">
        <nav class="nav">
            <a href="{% url 'article_list' %}" class="nav-link"><img style="width: 150px;" class="logo" src="{% static 'logo/abuali.png' %}" alt="Logo"></a>
                        <div class="nav-links">
                <a href="/" class="nav-link">{% trans "Articles" %}</a>
                <a href="{% url 'darslar' %}" class="nav-link">{% trans "Tutorials" %}</a>
                <a href="{% url 'about_us' %}" class="nav-link">{% trans "About Us" %}</a>
                <a href="{% url 'project_list' %}" class="nav-link">{% trans "Projects" %}</a>
                <a href="{% url 'contact_to_us' %}" class="nav-link">{% trans "Contact" %}</a>
                <a href="{% url 'profile' %}" class="nav-link">{% trans "Profile" %}</a>
            </div>
            <div class="nav-actions">
                {% get_current_language as LANGUAGE_CODE %}
                <div class="language-dropdown">
                    <button class="language-btn" onclick="toggleLanguageDropdown()" title="Select Language">
                        <svg style="margin-right: 10px;" class="language-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.9 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zM8.54 14h6.92c.08-.66.14-1.32.14-2s-.06-1.34-.14-2H8.54c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm5.08 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.66-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"/>
                        </svg>
                        <span style="margin-left: 22px;" class="language-text">
                            {% if LANGUAGE_CODE == 'ru' %}RU{% elif LANGUAGE_CODE == 'en' %}EN{% elif LANGUAGE_CODE == 'uz' %}UZ{% else %}{{ LANGUAGE_CODE|upper }}{% endif %}
                        </span>
                        <svg class="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7 10l5 5 5-5z"/>
                        </svg>
                    </button>
                    
                    <div class="language-menu" id="languageMenu">
                        <form action="{% url 'set_language' %}" method="post" class="language-form">
                            {% csrf_token %}
                            <input name="next" type="hidden" value="{{ request.get_full_path|slice:'3:' }}">
                            
                            <button type="submit" name="language" value="ru" class="language-option {% if LANGUAGE_CODE == 'ru' %}active{% endif %}">
                                <span class="flag">üá∑üá∫</span>
                                <span class="lang-name">–†—É—Å—Å–∫–∏–π</span>
                                <span class="lang-code">RU</span>
                            </button>
                            
                            <button type="submit" name="language" value="en" class="language-option {% if LANGUAGE_CODE == 'en' %}active{% endif %}">
                                <span class="flag">üá∫üá∏</span>
                                <span class="lang-name">English</span>
                                <span class="lang-code">EN</span>
                            </button>
                            
                            <button type="submit" name="language" value="uz" class="language-option {% if LANGUAGE_CODE == 'uz' %}active{% endif %}">
                                <span class="flag">üá∫üáø</span>
                                <span class="lang-name">O'zbek</span>
                                <span class="lang-code">UZ</span>
                            </button>
                        </form>
                    </div>
                </div>
                <style>
                    .theme-toggle {
                        background: none;
                        border: none;
                        cursor: pointer;
                        padding: 5px;
                    }
                    .theme-icon {
                        width: 24px;
                        height: 24px;
                        vertical-align: middle;
                    }
                </style>
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                    <svg id="theme-icon-sun" class="theme-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75zM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0zM18.894 6.106a.75.75 0 0 1 0 1.06l-1.591 1.59a.75.75 0 1 1-1.06-1.06l1.59-1.59a.75.75 0 0 1 1.061 0zM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5h2.25a.75.75 0 0 1 .75.75zM17.836 17.836a.75.75 0 0 1-1.06 0l-1.59-1.591a.75.75 0 1 1 1.06-1.06l1.591 1.59a.75.75 0 0 1 0 1.061zM12 21.75a.75.75 0 0 1-.75-.75v-2.25a.75.75 0 0 1 1.5 0v2.25a.75.75 0 0 1-.75.75zM5.106 17.836a.75.75 0 0 1 0-1.06l1.591-1.59a.75.75 0 1 1 1.06 1.06l-1.59 1.591a.75.75 0 0 1-1.061 0zM3 12a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12zM6.106 6.106a.75.75 0 0 1 1.06 0l1.59 1.591a.75.75 0 1 1-1.06 1.06L6.106 7.167a.75.75 0 0 1 0-1.06z"/>
                    </svg>
                    <svg id="theme-icon-moon" class="theme-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                        <path d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"/>
                    </svg>
                </button>
                {% if not user.is_authenticated %}
                <div class="auth-section" id="authSection">
                    <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω -->
                    <div class="auth-guest" id="authGuest">
                        <a href="{% url 'login' %}" class="auth-btn login-btn">
                            <svg class="auth-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.5a5.5 5.5 0 0 1 5.5 5.5c0 1.57-.67 3-1.75 3.98A8.5 8.5 0 0 1 20.5 19v.5H3.5V19a8.5 8.5 0 0 1 4.75-7.52A5.49 5.49 0 0 1 6.5 8a5.5 5.5 0 0 1 5.5-5.5zm0 2A3.5 3.5 0 0 0 8.5 8c0 1.71 1.22 3.14 2.83 3.44A6.5 6.5 0 0 0 5.5 19h13a6.5 6.5 0 0 0-5.83-7.56A3.5 3.5 0 0 0 15.5 8a3.5 3.5 0 0 0-3.5-3.5z"></path></svg>
                            {% trans "–í–æ–π—Ç–∏" %}
                        </a>
                        <!-- <a href="{% url 'register' %}" class="auth-btn signup-btn">
                            <span class="auth-icon">‚ú®</span>
                            {% trans "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è" %}
                        </a> -->
                    </div>
                {% else %}
                <div class="auth-section" id="authSection">
                    <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω -->
                    <div class="auth-user" id="authUser">
                        <a href="{% url 'logout' %}" class="auth-btn logout-btn">
                            <span class="auth-icon">üö™</span>
                            <span class="logout-text">{% trans "–í—ã–π—Ç–∏" %}</span>
                        </a>
                    </div>

                    <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω -->
                    <div class="auth-user" id="authUser" style="display: none;">
                        <div class="user-profile" onclick="toggleUserMenu()">
                            <div class="user-avatar">
                                <img src="https://ui-avatars.com/api/?name=John+Doe&background=3b82f6&color=fff&size=40" alt="Avatar" id="userAvatar" loading="lazy">
                                <div class="user-status"></div>
                            </div>
                            <div class="user-info">
                                <span class="user-name" id="userName">John Doe</span>
                                <span class="user-role" id="userRole">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</span>
                            </div>
                            <div class="dropdown-arrow">‚ñº</div>
                        </div>
                   
                        <!-- –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                        <div class="user-menu" id="userMenu">
                            <div class="user-menu-header">
                                <div class="user-avatar-large">
                                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=3b82f6&color=fff&size=60" alt="Avatar" loading="lazy">
                                </div>
                                <div class="user-details">
                                    <div class="user-name-large">John Doe</div>
                                    <div class="user-email">john.doe@example.com</div>
                                </div>
                            </div>
                            <div class="user-menu-divider"></div>
                            <div class="user-menu-items">
                                <a href="{% url 'profile' %}" class="user-menu-item">
                                    <span class="menu-icon">üë§</span>
                                    {% trans "–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å" %}
                                </a>
                                <a href="#" class="user-menu-item">
                                    <span class="menu-icon">‚öôÔ∏è</span>
                                    {% trans "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" %}
                                </a>
                                <a href="#" class="user-menu-item">
                                    <span class="menu-icon">üìù</span>
                                    {% trans "–ú–æ–∏ —Å—Ç–∞—Ç—å–∏" %}
                                </a>
                                <a href="#" class="user-menu-item">
                                    <span class="menu-icon">üíæ</span>
                                    {% trans "–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ" %}
                                </a>
                                <div class="user-menu-divider"></div>
                                <a href="#" class="user-menu-item logout-item" onclick="logout()">
                                    <span class="menu-icon">üö™</span>
                                    {% trans "–í—ã–π—Ç–∏" %}
                                </a>
                            </div>
                        </div>
                    </div>
                {% endif %}
                </div>
            </div>
        </nav>
    </header>

{% block content %}
    <!-- –í–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç –∑–¥–µ—Å—å -->
    <div style="height: 100vh; display: flex; align-items: center; justify-content: center; flex-direction: column;">
        <h1>–î–µ–º–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h1>
        <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</p>
        <button onclick="simulateLogin()" style="margin: 10px; padding: 10px 20px; border: none; border-radius: 8px; background: #3b82f6; color: white; cursor: pointer;">
            –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥
        </button>
        <button onclick="simulateLogout()" style="margin: 10px; padding: 10px 20px; border: none; border-radius: 8px; background: #ef4444; color: white; cursor: pointer;">
            –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã—Ö–æ–¥
        </button>
    </div>
{% endblock %}

    <footer class="footer">
        <p>&copy; 2024 UzbCode. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —É–∑–±–µ–∫—Å–∫–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</p>
    </footer>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>